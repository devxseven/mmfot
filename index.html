<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Matches</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.23/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.43/moment-timezone-with-data.min.js"></script>
    <!-- <script src='//whephiwums.com/sdk.js' data-zone='9233664' data-sdk='show_9233664'></script> -->
    <!-- <script src="https://js.mbidadm.com/in-stream-ad-admanager/tma.js"></script>
    <script src="https://w.tads.me/widget.js" async></script> -->
    <script src="https://static.sonartech.io/lib/1.0.0/sonar.js?appId=app_9eebc533&isDebug=true"></script>
    <style>
        html {
            overscroll-behavior-x: none;
        }

        body {
            min-height: 100vh;
            height: auto;
            --bg-color: var(--tg-theme-section-bg-color, #fff);
            --card-bg-color: var(--tg-theme-bg-color, #fff);
            font-family: sans-serif;
            background-color: var(--bg-color);
            color: var(--tg-theme-text-color, #222);
            margin: 0;
            padding: 0;
            color-scheme: var(--tg-color-scheme);
        }

        body.gray {
            background-color: var(--tg-theme-section-bg-color, #efefef);
        }

        section {
            padding: 15px;
            text-align: center;
            background-color: var(--bg-color, #ffffff);
            padding-left: calc(var(--tg-safe-area-inset-left, 0px) + var(--tg-content-safe-area-inset-left, 0px) + 15px);
            padding-right: calc(var(--tg-safe-area-inset-right, 0px) + var(--tg-content-safe-area-inset-right, 0px) + 15px);
            padding-top: calc(var(--tg-safe-area-inset-top, 0px) + var(--tg-content-safe-area-inset-top, 0px) + 15px);
        }

        /* Card styles */
        .card {
            background-color: var(--card-bg-color, #ffffff);
        }

        /* Animation beat */
        @keyframes beat {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        .animate-beat {
            animation: beat 1s infinite;
        }

        /* Loading animation */
        .loader {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 20px 0;
        }

        .loader.hidden {
            display: none;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(0, 0, 0, 0.1);
            border-top: 5px solid var(--tg-theme-text-color, #222);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            will-change: transform;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* p tag Custom text styles */
        .league,
        .home-name,
        .away-name,
        .match-date,
        .match-time {
            color: var(--tg-theme-text-color, #222);
        }

        .button {
            background-color: var(--card-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #222);
        }

        .game-card img {
            width: 100%;
            height: 125px;
            object-fit: cover;
            border-radius: 8px;
        }

        #bnmmfot {
            margin-top: 16px;
            width: 100%;
            height: 70px;
            /* Adjust height as needed for the ad */
        }
    </style>
</head>

<body>
    <section>
        <div class="flex gap-3 justify-center">
            <button id="fullscreen_btn"
                class="btn text-[11px] md:text-[14px] px-3 py-1 mb-4 rounded-lg shadow-lg button h-auto min-h-[40px]">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 md:w-7 md:h-7 fill-current"
                    viewBox="0 -960 960 960" fill="var(--tg-theme-text-color, #222)">
                    <path
                        d="M120-120v-200h80v120h120v80H120Zm520 0v-80h120v-120h80v200H640ZM120-640v-200h200v80H200v120h-80Zm640 0v-120H640v-80h200v200h-80Z" />
                </svg>
                Change Fullscreen
            </button>
            <button id="reload_btn"
                class="btn text-[11px] md:text-[14px] px-3 py-1 mb-4 rounded-lg shadow-lg button h-auto min-h-[40px]">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 md:w-7 md:h-7 fill-current"
                    viewBox="0 -960 960 960" fill="var(--tg-theme-text-color, #222)">
                    <path
                        d="M480-160q-134 0-227-93t-93-227q0-134 93-227t227-93q69 0 132 28.5T720-690v-110h80v280H520v-80h168q-32-56-87.5-88T480-720q-100 0-170 70t-70 170q0 100 70 170t170 70q77 0 139-44t87-116h84q-28 106-114 173t-196 67Z" />
                </svg>
                Reload
            </button>
        </div>
        <h5 class="text-[11px] md:text-[14px] font-bold mb-4 hidden">version 1.1 beta</h5>
        <h2 class="text-xl font-bold mb-4">Football Schedule Fixtures</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4" id="matchList"></div>
        <div id="loader" class="loader">
            <div class="spinner"></div>
        </div>
        <div id="bnmmfot"> </div>
        <h2 class="text-xl font-bold my-4">Sports Games</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-4" id="gameList"></div>
    </section>
    <!-- <script>

        window.initCdTma?.({ id: 2008250 }).then(show => window.show = show).catch(e => console.log(e))
    </script>
    <script>
        const initTadsWidget = function () {
            const adsNotFoundCallback = () => {
                console.log('No ads found to show');
                // Write your code here in case we couldn't display ad
            };

            function initAdController() {
                const adController = window.tads.init({
                    widgetId: 457,
                    debug: false, // Use 'true' for development and 'false' for production
                    onShowReward: (adId) => {
                        console.log('Show ad:', adId);
                        // Write code here for reward user after ad showed or delete this func onShowReward
                    },
                    onClickReward: (adId) => {
                        console.log('Click on ad:', adId);
                        // Write code for reward user after ad cliked or delete this func onClickReward
                    },
                    onAdsNotFound: adsNotFoundCallback
                });

                adController.loadAd()
                    .then(() => adController.showAd())
                    .catch((err) => {
                        console.log(err);
                        adsNotFoundCallback();
                    });
            }

            if (window.tads && window.tads.init) {
                initAdController();
            } else {
                let tadsInterval = setInterval(() => {
                    if (window.tads && window.tads.init) {
                        clearInterval(tadsInterval);
                        initAdController();
                    }
                }, 100);
            }
        };

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initTadsWidget);
        } else {
            initTadsWidget();
        }
    </script> -->

    <script>
        window.Sonar.show({ adUnit: "bnmmfot" });
        const showInterstitialAd = () => {
            window.Sonar.show({
                adUnit: 'intmmfot', // Use the same ad unit as in your original code

                loader: false, // Optional, switch on/off loader showing before ad. Default: true

                onStart: () => {
                    console.log('Ad started loading');
                },

                onShow: () => {
                    console.log('Ad is now visible');
                },

                onError: () => {
                    console.error('Ad encountered an error');
                },

                onClose: () => {
                    console.log('Ad was closed');
                },
            }).then((result) => {
                if (result.status === 'error') {
                    console.error('Ad failed to show');
                } else {
                    console.log('Ad is showing');
                }
            });
        };
        /**
 * This function shows a rewarded ad and handles lifecycle events with callbacks.
 */
        const showRewardedAd = () => {
            window.Sonar.show({
                adUnit: 'rwmmfot', // Replace with your actual rewarded ad unit name

                loader: false, // optional, switch on / off loader showing before ad. Default: true

                onStart: () => {
                    // Add logic here for when the ad starts to load
                    console.log('Ad started loading');
                },

                onShow: () => {
                    // Add logic here for when the ad becomes visible to the user
                    console.log('Ad is now visible');
                },

                onError: () => {
                    // Handle any errors that occur during the ad lifecycle
                    console.error('Ad encountered an error');
                },

                onClose: () => {
                    // Add logic here for when the ad is closed (e.g., resume content, show next step)
                    console.log('Ad was closed');
                },

                onReward: () => {
                    // Handle giving the user their reward here (e.g., unlocking content or in-game currency)
                    console.log('User has been rewarded for watching the Ad');
                },
            }).then((result) => {
                if (result.status === 'error') {
                    console.error('Ad failed to show');
                } else {
                    console.log('Ad is showing');
                }
            });
        };
    </script>
    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
        tg.BackButton.hide();

        const MMFotApp = {
            encryptionKey: "devxseven",
            apiFirst: "ghp_",
            apiSecond: "Lb8tjXZ9BggZwnUpJWneZ7NMa7Cmmo4bjZ4H",
            now: moment.tz("Asia/Yangon"),

            init() {
                tg.ready();
                tg.expand();
                this.initFullscreen();
                this.initReload();
                this.initTelegramCloud();
            },

            // initBackButton() {
            //     tg.BackButton.show();
            //     tg.BackButton.onClick(() => {
            //         tg.showConfirm('Do you want to exit the app?', (confirmed) => {
            //             if (confirmed) {
            //                 tg.close(); // Close the app if "OK" is clicked
            //             }
            //             // If "Cancel" is clicked, do nothing
            //         });
            //     });
            // },
            initFullscreen() {
                const fullscreenBtn = document.getElementById('fullscreen_btn');
                fullscreenBtn.addEventListener('click', () => this.toggleFullscreen(fullscreenBtn));

                tg.onEvent('fullscreenChanged', () => this.updateFullscreenButton(fullscreenBtn));
                tg.onEvent('fullscreenFailed', (params) => {
                    if (params.error === 'ALREADY_FULLSCREEN') {
                        this.updateFullscreenButton(fullscreenBtn);
                    } else {
                        tg.showAlert('Fullscreen failed: ' + params.error);
                    }
                });

                // Load the fullscreen state from cloud storage
                tg.CloudStorage.getItem('fullscreen', function (err, value) {
                    if (!err && value) {
                        if (value === 'yes') {
                            Telegram.WebApp.requestFullscreen();
                            fullscreenBtn.innerHTML = `
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 md:w-7 md:h-7 fill-current" viewBox="0 -960 960 960"
                                fill="var(--tg-theme-text-color, #222)">
                                <path 
                                    d="M240-120v-120H120v-80h200v200h-80Zm400 0v-200h200v80H720v120h-80ZM120-640v-80h120v-120h80v200H120Zm520 0v-200h80v120h120v80H640Z"/>
                            </svg>
                            Exit Fullscreen`;
                        } else {
                            Telegram.WebApp.exitFullscreen();
                            fullscreenBtn.innerHTML = `
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 md:w-7 md:h-7 fill-current" viewBox="0 -960 960 960"
                                fill="var(--tg-theme-text-color, #222)">
                                <path
                                    d="M120-120v-200h80v120h120v80H120Zm520 0v-80h120v-120h80v200H640ZM120-640v-200h200v80H200v120h-80Zm640 0v-120H640v-80h200v200h-80Z" />
                            </svg>
                            Change Fullscreen`;
                        }
                    }
                });

                this.updateFullscreenButton(fullscreenBtn);
            },

            toggleFullscreen(el) {
                if (tg.isFullscreen) {
                    tg.exitFullscreen();
                    this.saveFullscreenState('no');
                } else {
                    tg.requestFullscreen();
                    this.saveFullscreenState('yes');
                }
            },

            saveFullscreenState(state) {
                const key = 'fullscreen';
                const value = state;

                tg.CloudStorage.setItem(key, value, (err, saved) => {
                    if (err) {
                        tg.showAlert('Error: ' + err);
                    } else if (saved) {
                        console.log('Fullscreen state saved:', value);
                    }
                });
            },

            updateFullscreenButton(el) {
                if (tg.isFullscreen) {
                    el.innerHTML = `
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 md:w-7 md:h-7 fill-current" viewBox="0 -960 960 960"
                                fill="var(--tg-theme-text-color, #222)">
                                <path 
                                    d="M240-120v-120H120v-80h200v200h-80Zm400 0v-200h200v80H720v120h-80ZM120-640v-80h120v-120h80v200H120Zm520 0v-200h80v120h120v80H640Z"/>
                            </svg>
                            Exit Fullscreen`;
                } else {
                    el.innerHTML = `
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 md:w-7 md:h-7 fill-current" viewBox="0 -960 960 960"
                                fill="var(--tg-theme-text-color, #222)">
                                <path
                                    d="M120-120v-200h80v120h120v80H120Zm520 0v-80h120v-120h80v200H640ZM120-640v-200h200v80H200v120h-80Zm640 0v-120H640v-80h200v200h-80Z" />
                            </svg>
                            Change Fullscreen`;
                }
            },

            initReload() {
                const reloadBtn = document.getElementById('reload_btn');
                reloadBtn.addEventListener('click', () => this.reloadApp());
            },

            reloadApp() {
                window.location.reload();
            },

            showLoader() {
                document.getElementById('loader').classList.remove('hidden');
            },

            hideLoader() {
                document.getElementById('loader').classList.add('hidden');
            },

            initTelegramCloud() {
                this.showLoader();
                const key = 'ghp_';
                const defaultValue = 'QfJD9SzUBB6pRkQA26fo18WJJP0kcH1b5SzQ';

                // Check if the key exists in CloudStorage
                tg.CloudStorage.getItem(key, (err, value) => {
                    if (!err && value) {
                        // Key exists, use the value to load matches
                        this.loadMatchesWithKey(key, value)
                            .then(matches => {
                                this.upcomingMatchesView(matches);
                                this.hideLoader();
                            })
                            .catch(error => {
                                console.error('Error initializing app:', error);
                                document.getElementById('matchList').innerHTML = '<p class="text-center text-red-500">Error initializing app.</p>';
                                this.hideLoader();
                            });
                    } else {
                        // Key doesn't exist or error occurred, set the default value
                        tg.CloudStorage.setItem(key, defaultValue, (setErr, saved) => {
                            if (setErr) {
                                console.error('Error saving to CloudStorage:', setErr);
                                // Fallback to loadMatches without key
                                this.loadMatches()
                                    .then(matches => {
                                        this.upcomingMatchesView(matches);
                                        this.hideLoader();
                                    })
                                    .catch(error => {
                                        console.error('Error initializing app:', error);
                                        document.getElementById('matchList').innerHTML = '<p class="text-center text-red-500">Error initializing app.</p>';
                                        this.hideLoader();
                                    });
                            } else if (saved) {
                                console.log('Data Saved!');
                                // Use the newly set value to load matches
                                this.loadMatchesWithKey(key, defaultValue)
                                    .then(matches => {
                                        this.upcomingMatchesView(matches);
                                        this.hideLoader();
                                    })
                                    .catch(error => {
                                        console.error('Error initializing app:', error);
                                        document.getElementById('matchList').innerHTML = '<p class="text-center text-red-500">Error initializing app.</p>';
                                        this.hideLoader();
                                    });
                            }
                        });
                    }
                });
            },

            decryptString(encryptedBase64, key) {
                if (!encryptedBase64 || typeof encryptedBase64 !== 'string') return '';
                if (!key) return encryptedBase64;

                try {
                    const decoded = atob(encryptedBase64);
                    let decrypted = "";
                    for (let i = 0; i < decoded.length; i++) {
                        const charCode = decoded.charCodeAt(i) ^ key.charCodeAt(i % key.length);
                        decrypted += String.fromCharCode(charCode);
                    }
                    return decodeURIComponent(decrypted);
                } catch (error) {
                    return encryptedBase64;
                }
            },

            decryptObject(encryptedObj, key) {
                if (!encryptedObj || typeof encryptedObj !== 'object') return {};
                const decryptedObj = {};
                for (const [k, v] of Object.entries(encryptedObj)) {
                    try {
                        const decryptedKey = this.decryptString(k, key);
                        const decryptedValue = JSON.parse(this.decryptString(v, key));
                        decryptedObj[decryptedKey] = decryptedValue;
                    } catch (error) {
                        decryptedObj[k] = v;
                    }
                }
                return decryptedObj;
            },

            async fetchAndDecryptJson() {
                try {
                    const response = await fetch("https://raw.githubusercontent.com/devxseven/mmfot-data/refs/heads/main/main.json");
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    const encryptedData = await response.json();
                    // Decrypt the data
                    const decryptedData = this.decryptObject(encryptedData, this.encryptionKey);
                    return decryptedData.context || []; // Return the context array
                } catch (error) {
                    console.error('Error fetching/decrypting matches:', error);
                    document.getElementById('matchList').innerHTML = '<p class="text-center text-red-500">Error loading matches.</p>';
                    return [];
                }
            },

            async fetchAndDecryptJsonWithKey(key, value) {
                try {
                    const url = `https://api.github.com/repos/devxseven/mmfot-data/contents/main.json`;
                    const response = await fetch(url, {
                        headers: {
                            "Authorization": `token ${key}${value}`,
                            "User-Agent": "GitHub-Admin-Panel"
                        }
                    });
                    const data = await response.json();
                    const content = JSON.parse(atob(data.content));
                    const decryptedData = this.decryptObject(content, this.encryptionKey);
                    return decryptedData.context || []; // Return the context array
                } catch (error) {
                    console.error('Error fetching/decrypting matches:', error);
                    document.getElementById('matchList').innerHTML = '<p class="text-center text-red-500">Error loading matches.</p>';
                    return [];
                }
            },

            async loadMatches() {
                const matches = await this.fetchAndDecryptJson();
                return matches;
            },

            async loadMatchesWithKey(key, value) {
                const matches = await this.fetchAndDecryptJsonWithKey(key, value);
                return matches;
            },

            upcomingMatchesView(matches) {
                const matchList = document.getElementById('matchList');
                const upcomingMatches = matches.filter(match => {
                    if (!match.date || !match.time) return false;
                    const matchDateTime = moment.tz(`${match.date} ${match.time}`, 'MMM D hh:mm A', "Asia/Yangon");
                    return this.now.isBefore(matchDateTime.clone().add(3, 'hours'));
                });

                if (upcomingMatches.length === 0) {
                    matchList.innerHTML = '<p class="text-center text-gray-600">No upcoming matches found.</p>';
                    return;
                }

                upcomingMatches.forEach(match => {
                    const matchDateTime = moment.tz(`${match.date} ${match.time}`, 'MMM D hh:mm A', "Asia/Yangon");
                    const tenMinutesBefore = matchDateTime.clone().subtract(10, 'minutes');
                    const threeHoursAfter = matchDateTime.clone().add(3, 'hours');

                    const isLive = this.now.isBetween(tenMinutesBefore, threeHoursAfter);

                    const card = document.createElement('div');
                    card.className = 'card shadow-xl p-1 flex flex-col items-center';
                    card.innerHTML = `
                        <h2 class="text-xs md:text-sm p-1 font-bold text-center league">${match.league || ''}</h2>
                        <div class="grid grid-cols-11 gap-2 w-full text-center mt-2">
                            <div class="col-span-4 flex flex-col items-center home-name">
                                <img src="${match.home_img || ''}" alt="Home Team" class="w-12 h-12 object-contain" onerror="this.src='default-image.png'">
                                <p class="text-[9px] md:text-[11px] pt-1 font-semibold">${match.home_name || ''}</p>
                            </div>
                            <div class="col-span-3 flex flex-col items-center match-date match-time">
                                <p class="text-xs md:text-sm font-semibold">${match.date || ''}</p>
                                <p class="text-xs md:text-sm font-bold">${match.time || ''}</p>
                                ${isLive ? '<p class="text-xs md:text-sm text-red-500 font-bold animate-beat">⬤ LIVE</p>' : ''}
                            </div>
                            <div class="col-span-4 flex flex-col items-center away-name">
                                <img src="${match.away_img || ''}" alt="Away Team" class="w-12 h-12 object-contain" onerror="this.src='default-image.png'">
                                <p class="text-[9px] md:text-[11px] pt-1 font-semibold">${match.away_name || ''}</p>
                            </div>
                        </div>
                    `;

                    card.addEventListener('click', () => {
                        if (match.id) {

                            // show_9233664().then(() => {
                            //     window.location.href = `player.html?id=${match.id}`;
                            // }).catch(error => {
                            //     console.error('Error showing ad:', error);
                            //     window.location.href = `player.html?id=${match.id}`;
                            // });
                            // try {
                            //     window.show?.().then(() => {
                            //         console.log('tma ad played')
                            //         window.location.href = `player.html?id=${match.id}`;
                            //     }).catch(error => {
                            //         console.error('Error showing ad:', error);
                            //         window.location.href = `player.html?id=${match.id}`;
                            //     });
                            // } catch (error) {
                            //     console.error('Error showing ad:', error);
                            //     window.location.href = `player.html?id=${match.id}`;
                            // }
                            showRewardedAd();
                            window.location.href = `player.html?id=${match.id}`;
                            // window.Sonar.show({ adUnit: "rwmmfot" })
                            //     .then((result) => {
                            //         // You still can handle the result of the ad display attempt by awaiting Promise
                            //         if (result.status === 'error') {
                            //             console.error('Ad failed to show'); // Log the error if something went wrong
                            //             window.location.href = `player.html?id=${match.id}`;
                            //         } else {
                            //             console.log('Ad is showing'); // Log that the ad is successfully showing
                            //             window.location.href = `player.html?id=${match.id}`;
                            //         }
                            //     })
                            //     .catch((error) => {
                            //         console.error('Error showing ad:', error);
                            //         window.location.href = `player.html?id=${match.id}`;
                            //     });
                        }
                    });

                    matchList.appendChild(card);
                });
            },
        };

        async function fetchGames() {
            try {
                const response = await fetch('games.json');
                console.log('shine Fetch response:', response);
                if (!response.ok) throw new Error(`shine Network response was not ok: ${response.status}`);
                const data = await response.json();
                return data || [];
            } catch (error) {
                document.getElementById('gameList').innerHTML = '<p class="text-center text-red-500">Error loading games: ' + error.message + '</p>';
                return [];
            }
        }

        function displayGames(games) {
            console.log('shine Displaying games:', games);
            const gameList = document.getElementById('gameList');
            gameList.innerHTML = '';

            if (games.length === 0) {
                gameList.innerHTML = '<p class="text-center text-gray-600">No games found.</p>';
                return;
            }

            games.forEach(game => {
                const card = document.createElement('div');
                card.className = 'card shadow-xl game-card cursor-pointer';
                card.innerHTML = `
                <img src="${game.image}" class="rounded-lg">
            `;
                card.addEventListener('click', () => {
                    /**
 * This function shows an interstitial ad and handles lifecycle events with callbacks.
 */
                    window.Sonar.show({
                        adUnit: 'rwmmfot', // ad unit name from admin
                        onReward: () => {
                            window.location.href = `game.html?url=${encodeURIComponent(game.embed)}`;
                        },
                    }).then((showResult) => {
                        if (showResult?.status === 'error') {
                            alert('Rewarded ads didn\'t filled');
                            window.location.href = `game.html?url=${encodeURIComponent(game.embed)}`;
                        }
                    });
                    // window.Sonar.show({ adUnit: "intmmfot" })
                    //     .then((result) => {
                    //         // You still can handle the result of the ad display attempt by awaiting Promise
                    //         if (result.status === 'error') {
                    //             console.error('Ad failed to show'); // Log the error if something went wrong
                    //             window.location.href = `game.html?url=${encodeURIComponent(game.embed)}`;
                    //         } else {
                    //             console.log('Ad is showing'); // Log that the ad is successfully showing
                    //             window.location.href = `game.html?url=${encodeURIComponent(game.embed)}`;
                    //         }
                    //     })
                    //     .catch((error) => {
                    //         console.error('Error showing ad:', error);
                    //         window.location.href = `game.html?url=${encodeURIComponent(game.embed)}`;
                    //     });
                });
                gameList.appendChild(card);
            });
        }

        (async () => {
            const games = await fetchGames();
            displayGames(games);
        })();

        // Initialize the app
        MMFotApp.init();
    </script>
</body>

</html>